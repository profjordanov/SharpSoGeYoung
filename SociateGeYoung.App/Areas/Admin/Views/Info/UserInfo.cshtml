@model PagedList.IPagedList<SociateGeYoung.Models.EntityModels.ApplicationUser>
@using PagedList.Mvc;
@using SociateGeYoung.Models.Enums
<link href="~/Content/PagedList.css" rel="stylesheet" type="text/css" />
@{
    ViewBag.Title = "UserInfo";
}

@foreach (var user in Model)
{
    <div class="row">
        <div class="col-md-12">
            <div class="thumbnail">
                <div class="caption-full">
                    <h2>Студент: </h2>
                    <h4>
                        <a href="#">@user.UserName</a>
                    </h4>
                </div>
                <div class="well">
                    @foreach (var cv in user.CarrerCvs)
                    {
                        <div class="text-left">
                            <h4>CV с име: @cv.CVpath</h4>
                            <a href="~/UploadedCVs/@cv.CVpath" class="btn btn-success">Отвори CV</a>
                        </div>
                        <br />
                        <h4>Позиции, за които е кандидатствал с това CV:</h4>
                        foreach (var apply in cv.Applies)
                        {

                            <div class="row">
                                <div class="col-md-6 col-md-offset-4">
                                    <p><span class="glyphicon glyphicon-star"></span> @apply.JobAd.Position</p>
                                    @using (Html.BeginForm("UserInfo", "Info", FormMethod.Post))
                                    {
                                        <input type="number" hidden="hidden" value="@apply.Id" name="ApplyId" />
                                        <select class="form-control" id="ApplyStatus" name="ApplyStatus">
                                            <option value="@ApplyStatus.Undefined">Неопределен</option>
                                            <option value="@ApplyStatus.Appropriate">Подходящ</option>
                                            <option value="@ApplyStatus.Inappropriate">Неподходящ</option>
                                            <option value="@ApplyStatus.ModeratelyAppropriate">Средноподходящ</option>
                                            <option value="@ApplyStatus.ForAnInterview">За Интервю</option>
                                        </select>
                                        <div class="form-group">
                                            <input type="submit" value="Изпрати Email" class="btn btn-sm btn-warning" />
                                        </div>
                                    }
                                </div>
                            </div>
                            <hr />

                        }

                        <hr>
                    }
                </div>

            </div>
        </div>
    </div>
    <br />
}
Page @(Model.PageCount < Model.PageNumber ? 0 : Model.PageNumber) of @Model.PageCount
@Html.PagedListPager(Model, page => Url.Action("UserInfo", new { page }))
